# Pepper Robot と Flask サーバーの連携システム要件定義

## 1. システム概要

このシステムは、Pepper ロボットと Flask サーバーを連携させ、以下の機能を実現します：

1. Pepper ロボットが音声を録音
2. 録音された音声内に「pepper」という単語が検出された場合のみ、その音声を Flask サーバーに送信
3. Flask サーバーで Hugging Face の Gemma 3n モデルを使用して音声をテキストに変換し、応答を生成
4. 生成された応答テキストを Pepper ロボットに返送
5. Pepper ロボットが返送されたテキストを音声で読み上げる

## 2. 技術要件

### Pepper ロボット側
- Python 3 互換の非公式 Pepper ライブラリを使用
- 音声録音機能
- 音声内の「pepper」キーワード検出機能
- HTTP リクエスト送信機能
- テキスト読み上げ機能

### Flask サーバー側
- Flask フレームワーク
- Hugging Face の Transformers ライブラリ
- Gemma 3n モデル (音声処理含む)llm

## 3. システムアーキテクチャ

```
+-------------+                  +----------------+                  +------------+
|             |  音声データ送信   |                |  音声→テキスト変換  |            |
| Pepper ロボット | --------------> | Flask サーバー | -----------------> | Gemma 3n  |
|             | <-------------- |                | <----------------- |            |
+-------------+  テキスト応答受信  +----------------+  テキスト応答生成   +------------+
```
### 実行手順

1. Flask サーバーを起動
```bash
python flask_server.py
```

2. Pepper クライアントを起動（Pepper の IP アドレスを指定）
```bash
python pepper_client.py 192.168.1.100
```
